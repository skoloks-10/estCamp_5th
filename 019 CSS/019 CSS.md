# 019 CSS

날짜: 2025/03/24
Subject: CSS
피드백 요청: No

# 반응형 이미지 기술 요약

## 1. 반응형 이미지 개요

반응형 이미지는 다양한 디바이스 환경에서 최적화된 웹 경험을 제공하기 위한 필수 기술입니다. 주요 목적은 두 가지 문제를 해결하는 것입니다:

- **해상도 전환 문제**: 네트워크, 메모리, 성능 등을 고려한 다양한 크기의 이미지 제공
- **아트 디렉션 문제**: 화면 크기, 방향 등을 고려한 다양한 레이아웃의 이미지 제공

## 2. 해상도 전환(Resolution Switching)

해상도 전환은 동일한 콘텐츠의 이미지를 다양한 크기로 제공하는 방법입니다. 주요 목적은:

- 작은 화면에서 불필요하게 큰 이미지를 로드하는 대역폭 낭비 방지
- 큰 화면에서 작은 이미지를 확대하여 품질이 저하되는 현상 방지

### 2.1 srcset 속성

`srcset` 속성은 브라우저에게 다양한 이미지 옵션과 각 이미지의 원본 크기를 제공하여 최적의 이미지를 선택할 수 있게 합니다.

| 서술자 | 설명 | 예시 코드 |
| --- | --- | --- |
| w 서술자 | 이미지의 원본 너비를 픽셀 단위로 브라우저에 알림 | `<img srcset="image-small.jpg 360w, image-medium.jpg 720w, image-large.jpg 1440w" src="image-small.jpg" alt="설명">` |
| x 서술자 | 화소 밀도(디바이스 픽셀 비율)를 나타냄 | `<img srcset="image-small.jpg, image-medium.jpg 2x, image-large.jpg 4x" src="image-small.jpg" alt="설명">` |

**주의사항**:

- w 서술자와 x 서술자는 동시에 사용할 수 없습니다.
- srcset 속성은 브라우저에게 이미지 선택권을 위임하며, 개발자가 강제할 수 없습니다.
- 항상 src 속성을 포함하여 srcset을 지원하지 않는 브라우저를 위한 폴백을 제공해야 합니다.

### 2.2 sizes 속성

`sizes` 속성은 미디어 조건에 따라 이미지가 차지할 크기를 브라우저에 알려줍니다.

| 속성 형식 | 설명 | 예시 코드 |
| --- | --- | --- |
| 미디어쿼리와 슬롯 너비 | 미디어 조건이 참일 때 이미지가 차지할 크기를 지정 | `<img srcset="image-small.jpg 360w, image-medium.jpg 720w, image-large.jpg 1440w" sizes="(max-width: 360px) 200px, (max-width: 720px) 400px, 600px" src="image-small.jpg" alt="설명">` |

**중요 사항**:

- 슬롯 너비에는 % 값을 사용할 수 없으며, px, em, vw 단위를 사용해야 합니다.
- 미디어 조건문 순서가 중요하며, 첫 번째로 일치하는 조건이 적용됩니다.
- CSS 스타일이 sizes 속성보다 우선 적용됩니다.
- x 서술자와 함께 사용할 경우 sizes 속성은 효과가 없습니다.

## 3. 아트 디렉션(Art Direction)

아트 디렉션은 다양한 화면 크기에 맞춰 이미지의 핵심 부분을 효과적으로 전달하기 위한 기법입니다. 예를 들어 데스크톱에서는 전체 풍경을 보여주고, 모바일에서는 주요 대상을 확대해서 보여주는 방식입니다.

### 3.1 <picture> 요소 사용하기

`<picture>` 요소는 여러 `<source>` 요소와 하나의 `<img>` 요소를 포함하며, 화면 크기나 브라우저 지원에 따라 최적의 이미지를 표시합니다.

| 구성 요소 | 설명 | 예시 코드 |
| --- | --- | --- |
| `<source>` | 미디어 쿼리나 이미지 형식에 따른 소스 지정 | `<picture><source media="(min-width: 1024px)" srcset="desktop.png" /><source media="(max-width: 1023px)" srcset="mobile.png" /><img src="fallback.png" alt="설명" /></picture>` |
| `<source>` 타입 지정 | 브라우저 지원에 따라 다양한 이미지 형식 제공 | `<picture><source type="image/avif" srcset="image.avif" /><source type="image/webp" srcset="image.webp" /><img src="image.jpg" alt="설명" /></picture>` |

**중요 사항**:

- `<img>` 요소는 필수이며, src와 alt 속성을 반드시 포함해야 합니다.
- 브라우저는 `<source>` 요소를 순서대로 검토하여 첫 번째로 일치하는 요소를 선택합니다.
- `<source>` 요소의 media 속성은 아트 디렉션에, type 속성은 이미지 형식 지원에 활용됩니다.

## 4. 기법 선택 가이드

| 기법 | 사용 시나리오 | 특징 |
| --- | --- | --- |
| srcset과 sizes | 동일한 비율, 동일한 내용의 이미지를 다양한 해상도로 제공할 때 | 브라우저가 최적의 이미지를 자동 선택 |
| <picture>와 <source> | 화면 크기에 따라 다른 비율이나 다른 구도의 이미지를 제공할 때 | 개발자가 이미지 선택을 세밀하게 제어 가능 |

## 5. 최종 요약

- **반응형 이미지**는 해상도 전환과 아트 디렉션 두 가지 접근법으로 구현합니다.
- **해상도 전환**:
    - `srcset` 속성으로 다양한 크기의 이미지 옵션 제공
    - `w` 서술자는 이미지 원본 너비 지정, `x` 서술자는 화소 밀도 지정
    - `sizes` 속성으로 미디어 조건에 따른 이미지 표시 크기 지정
- **아트 디렉션**:
    - `<picture>` 요소와 `<source>` 요소로 구현
    - 화면 크기나 브라우저 지원에 따라 다양한 구도나 형식의 이미지 제공
- **기법 선택**:
    - 동일 내용의 다양한 해상도 → srcset/sizes
    - 다른 구도나 비율의 이미지 → picture/source
- **CSS와 JS**: 단순 장식 목적의 이미지는 CSS의 background로 처리 가능, JS로 처리하면 이미지가 중복 로드되어 비효율적

# 반응형 이미지 복습 퀴즈

## 문제 1

다음 중 `srcset` 속성과 `w` 서술자를 사용할 때의 올바른 설명은 무엇인가요?

A) 개발자가 화면 크기에 따라 특정 이미지를 강제로 선택할 수 있다
B) 모바일에서는 세로 이미지, 데스크탑에서는 가로 이미지를 보여줄 수 있다
C) 브라우저가 최적의 이미지를 자동으로 선택한다
D) `w` 서술자와 `x` 서술자를 함께 사용해야 효과적이다

**정답: C) 브라우저가 최적의 이미지를 자동으로 선택한다**

**해설:** `srcset` 속성은 브라우저에게 이미지 선택권을 위임하는 속성입니다. 개발자는 다양한 크기의 이미지를 제공하고, 브라우저는 네트워크 속도, 이미지 용량, 화면 해상도 등 다양한 조건을 고려하여 최적의 이미지를 자동으로 결정합니다. 개발자가 특정 이미지를 강제로 선택하려면 CSS의 미디어 쿼리나 `<picture>` 요소를 사용해야 합니다.

## 문제 2

다음 코드에서 화면 크기가 400px일 때 브라우저는 어떤 이미지를 선택할 가능성이 가장 높은가요?

```html
<img
  srcset="
    small.jpg 300w,
    medium.jpg 600w,
    large.jpg 1200w"
  sizes="
    (max-width: 500px) 280px,
    (max-width: 900px) 500px,
    800px"
  src="medium.jpg"
  alt="예시 이미지"
/>

```

A) small.jpg
B) medium.jpg
C) large.jpg
D) src 속성에 지정된 medium.jpg만 로드됨

**정답: A) small.jpg**

**해설:** 화면 크기가 400px일 때, `sizes` 속성의 첫 번째 조건 `(max-width: 500px) 280px`이 적용됩니다. 이는 이미지가 실제로 280px 너비로 표시될 것임을 브라우저에 알려줍니다. 브라우저는 필요한 이미지 크기(280px)에 가장 근접하면서도 충분히 큰 이미지를 선택하는데, 이 경우 300w로 명시된 small.jpg가 가장 적합합니다. 600w의 medium.jpg나 1200w의 large.jpg는 필요 이상으로 큰 이미지로 대역폭 낭비가 될 수 있습니다.

## 문제 3

다음 중 아트 디렉션(Art Direction) 문제를 해결하기 위한 가장 적절한 HTML 요소는 무엇인가요?

A) `<img srcset="...">`
B) `<picture>`
C) `<source sizes="...">`
D) `<img sizes="...">`

**정답: B) `<picture>`**

**해설:** 아트 디렉션은 화면 크기나 방향에 따라 다른 비율이나 구도의 이미지를 제공하는 기법입니다. 예를 들어, 데스크톱에서는 전체 풍경을 보여주고 모바일에서는 주요 대상을 확대해서 보여주는 경우에 사용합니다. `<picture>` 요소와 `<source>` 요소를 함께 사용하면 개발자가 미디어 쿼리를 통해 화면 크기에 따라 어떤 이미지를 보여줄지 세밀하게 제어할 수 있습니다. 반면 `srcset`은 동일한 내용의 이미지를 다양한 해상도로 제공할 때 사용하는 속성입니다.

## 문제 4

다음 코드의 목적으로 가장 적절한 것은 무엇인가요?

```html
<picture>
  <source type="image/avif" srcset="image.avif">
  <source type="image/webp" srcset="image.webp">
  <img src="image.jpg" alt="설명">
</picture>

```

A) 화면 크기에 따라 다른 이미지 제공
B) 다양한 해상도의 이미지 제공
C) 브라우저 지원에 따라 최신 이미지 형식 제공
D) 이미지 로딩 속도 개선

**정답: C) 브라우저 지원에 따라 최신 이미지 형식 제공**

**해설:** 이 코드는 `type` 속성을 사용하여 다양한 이미지 형식을 제공합니다. 브라우저는 지원하는 첫 번째 형식을 선택합니다. AVIF와 WebP는 더 효율적인 압축률을 제공하는 최신 이미지 형식이지만, 모든 브라우저에서 지원되지는 않습니다. 따라서 브라우저가 이러한 형식을 지원하지 않을 경우를 대비해 마지막에 JPG 형식을 폴백으로 제공합니다. 이런 방식으로 최신 브라우저에서는 더 효율적인 이미지 형식을 사용하고, 구형 브라우저에서는 널리 지원되는 형식을 사용할 수 있습니다.

## 문제 5

`sizes` 속성에 대한 설명으로 올바르지 않은 것은 무엇인가요?

A) 미디어 조건에 따라 이미지가 차지할 크기를 브라우저에 알려준다
B) 슬롯 너비에는 %, px, em, vw 단위를 모두 사용할 수 있다
C) 미디어 조건문의 순서가 중요하며, 첫 번째로 일치하는 조건이 적용된다
D) x 서술자와 함께 사용할 경우 효과가 없다

**정답: B) 슬롯 너비에는 %, px, em, vw 단위를 모두 사용할 수 있다**

**해설:** `sizes` 속성의 슬롯 너비에는 % 값을 사용할 수 없으며, px, em, vw 단위를 사용해야 합니다. 이 제한은 브라우저가 페이지 로드 초기 단계에서 최적의 이미지를 선택할 수 있도록 하기 위함입니다. % 값은 부모 요소에 따라 달라질 수 있어 정확한 크기 계산이 어려워 지원되지 않습니다. 나머지 설명들은 모두 정확합니다: sizes 속성은 미디어 조건에 따른 이미지 크기를 지정하고, 순서가 중요하며, x 서술자와 함께 사용할 경우 효과가 없습니다.